{"version":3,"sources":["../node_modules/react-is-visible/lib/IsVisible.js","../node_modules/@babel/runtime/helpers/assertThisInitialized.js","../node_modules/react-is-visible/lib/index.js","../node_modules/react-is-visible/lib/withIsVisible.js","../node_modules/@babel/runtime/helpers/extends.js","../node_modules/@babel/runtime/helpers/objectWithoutProperties.js","../node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","../node_modules/react-is-visible/node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js","../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/typeof.js","../node_modules/@babel/runtime/helpers/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/inherits.js","../node_modules/@babel/runtime/helpers/setPrototypeOf.js","../node_modules/react-is-visible/lib/useIsVisible.js","components/home.jsx","hooks/useStickySwr.js","../node_modules/@babel/runtime/helpers/interopRequireDefault.js","../node_modules/react-is-visible/lib/VisibilityObserver.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","default","_classCallCheck2","_createClass2","_possibleConstructorReturn2","_getPrototypeOf3","_assertThisInitialized2","_inherits2","_defineProperty2","_react","_reactDom","_VisibilityObserver","_default","_React$PureComponent","IsVisible","_getPrototypeOf2","_this","this","_len","arguments","length","args","Array","_key","call","apply","concat","isVisible","_ref","isIntersecting","state","setState","props","once","unwatch","key","watch","findDOMNode","handleVisibilityChange","renderedChildren","children","Children","only","PureComponent","module","self","ReferenceError","enumerable","get","_withIsVisible","withIsVisible","_IsVisible","_useIsVisible","_extends2","_objectWithoutProperties2","_hoistNonReactStatics","getDisplayName","WrappedComponent","displayName","name","defaultOptions","undefined","WithIsVisible","_ref2","forwardedRef","createElement","ref","forwardRef","_extends","assign","target","i","source","prototype","hasOwnProperty","objectWithoutPropertiesLoose","excluded","getOwnPropertySymbols","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","keys","ReactIs","REACT_STATICS","childContextTypes","contextType","contextTypes","defaultProps","getDefaultProps","getDerivedStateFromError","getDerivedStateFromProps","mixins","propTypes","type","KNOWN_STATICS","caller","callee","arity","MEMO_STATICS","compare","TYPE_STATICS","getStatics","component","isMemo","ForwardRef","render","getOwnPropertyNames","getOwnPropertyDescriptor","getPrototypeOf","objectPrototype","hoistNonReactStatics","targetComponent","sourceComponent","blacklist","inheritedComponent","targetStatics","sourceStatics","descriptor","e","_typeof","assertThisInitialized","_typeof2","obj","Symbol","iterator","constructor","_getPrototypeOf","o","setPrototypeOf","__proto__","subClass","superClass","TypeError","create","writable","configurable","_setPrototypeOf","p","_slicedToArray2","nodeRef","_useState","useState","_useState2","setVisible","current","useEffect","MapExplorer","lazy","Home","mapStatistic","setMapStatistic","anchor","setAnchor","id","regionalData","districtCode","cityName","regionHighlighted","setRegionHighlighted","workData","educationData","allCentroidDestinations","useStickySWR","DATA_URL_ROOT","fetcher","revalidateOnMount","revalidateOnFocus","data","nzMap","useRef","useIsVisible","Fragment","content","className","fallback","regionalWorkData","regionalEducationData","regionalTotalData","centroidData","swrOptions","options","setOptions","useSWR","isValidating","error","rest","useUpdateEffect","produce","draftOptions","initialData","__esModule","intersectionObserver","intersectionObserverOptions","subscribers","WeakMap","handleIntersections","entries","forEach","entry","domNode","unobserve","delete","getSubscribers","setIntersectionObserverOptions","callback","has","set","IntersectionObserver","observe"],"mappings":"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","file":"static/js/Home.41305d9c.chunk.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf3 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\n\nvar _VisibilityObserver = _interopRequireDefault(require(\"./VisibilityObserver\"));\n\nvar IsVisible =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  (0, _inherits2.default)(IsVisible, _React$PureComponent);\n\n  function IsVisible() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    (0, _classCallCheck2.default)(this, IsVisible);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = (0, _possibleConstructorReturn2.default)(this, (_getPrototypeOf2 = (0, _getPrototypeOf3.default)(IsVisible)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"state\", {\n      isVisible: false\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"handleVisibilityChange\", function (_ref) {\n      var isIntersecting = _ref.isIntersecting;\n\n      if (_this.state.isVisible !== isIntersecting) {\n        _this.setState({\n          isVisible: isIntersecting\n        });\n      }\n\n      if (isIntersecting && _this.props.once) {\n        _this.unwatch();\n      }\n    });\n    return _this;\n  }\n\n  (0, _createClass2.default)(IsVisible, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.unwatch = _VisibilityObserver.default.watch(_reactDom.default.findDOMNode(this), this.handleVisibilityChange);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.unwatch();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var isVisible = this.state.isVisible;\n      var renderedChildren = this.props.children(isVisible);\n      return renderedChildren && _react.default.Children.only(renderedChildren);\n    }\n  }]);\n  return IsVisible;\n}(_react.default.PureComponent);\n\nvar _default = IsVisible;\nexports.default = _default;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"withIsVisible\", {\n  enumerable: true,\n  get: function get() {\n    return _withIsVisible.withIsVisible;\n  }\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function get() {\n    return _IsVisible.default;\n  }\n});\nObject.defineProperty(exports, \"useIsVisible\", {\n  enumerable: true,\n  get: function get() {\n    return _useIsVisible.default;\n  }\n});\nObject.defineProperty(exports, \"VisibilityObserver\", {\n  enumerable: true,\n  get: function get() {\n    return _VisibilityObserver.default;\n  }\n});\n\nvar _withIsVisible = require(\"./withIsVisible\");\n\nvar _IsVisible = _interopRequireDefault(require(\"./IsVisible\"));\n\nvar _useIsVisible = _interopRequireDefault(require(\"./useIsVisible\"));\n\nvar _VisibilityObserver = _interopRequireDefault(require(\"./VisibilityObserver\"));","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.withIsVisible = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _hoistNonReactStatics = _interopRequireDefault(require(\"hoist-non-react-statics\"));\n\nvar _IsVisible = _interopRequireDefault(require(\"./IsVisible\"));\n\nvar getDisplayName = function getDisplayName(WrappedComponent) {\n  return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n};\n\nvar defaultOptions = {\n  once: false\n};\n\nvar withIsVisible = function withIsVisible(WrappedComponent) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultOptions,\n      once = _ref.once;\n\n  var WithIsVisible = function WithIsVisible(_ref2) {\n    var forwardedRef = _ref2.forwardedRef,\n        props = (0, _objectWithoutProperties2.default)(_ref2, [\"forwardedRef\"]);\n    return _react.default.createElement(_IsVisible.default, {\n      once: once,\n      children: function children(isVisible) {\n        return _react.default.createElement(WrappedComponent, (0, _extends2.default)({}, props, {\n          isVisible: isVisible,\n          ref: forwardedRef\n        }));\n      }\n    });\n  };\n  /* Display name */\n\n\n  WithIsVisible.displayName = \"WithIsVisible(\".concat(getDisplayName(WrappedComponent), \")\");\n  /* Passes non-React static methods */\n\n  (0, _hoistNonReactStatics.default)(WithIsVisible, WrappedComponent);\n  /* Forward refs */\n\n  function forwardRef(props, ref) {\n    return _react.default.createElement(WithIsVisible, (0, _extends2.default)({}, props, {\n      forwardedRef: ref\n    }));\n  }\n\n  forwardRef.displayName = \"withIsVisible(\".concat(getDisplayName(WrappedComponent), \")\");\n  return _react.default.forwardRef(forwardRef);\n};\n\nexports.withIsVisible = withIsVisible;","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose\");\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutProperties;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;","'use strict';\n\n/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\nvar ReactIs = require('react-is');\nvar REACT_STATICS = {\n    childContextTypes: true,\n    contextType: true,\n    contextTypes: true,\n    defaultProps: true,\n    displayName: true,\n    getDefaultProps: true,\n    getDerivedStateFromError: true,\n    getDerivedStateFromProps: true,\n    mixins: true,\n    propTypes: true,\n    type: true\n};\n\nvar KNOWN_STATICS = {\n    name: true,\n    length: true,\n    prototype: true,\n    caller: true,\n    callee: true,\n    arguments: true,\n    arity: true\n};\n\nvar FORWARD_REF_STATICS = {\n    '$$typeof': true,\n    render: true,\n    defaultProps: true,\n    displayName: true,\n    propTypes: true\n};\n\nvar MEMO_STATICS = {\n    '$$typeof': true,\n    compare: true,\n    defaultProps: true,\n    displayName: true,\n    propTypes: true,\n    type: true\n};\n\nvar TYPE_STATICS = {};\nTYPE_STATICS[ReactIs.ForwardRef] = FORWARD_REF_STATICS;\n\nfunction getStatics(component) {\n    if (ReactIs.isMemo(component)) {\n        return MEMO_STATICS;\n    }\n    return TYPE_STATICS[component['$$typeof']] || REACT_STATICS;\n}\n\nvar defineProperty = Object.defineProperty;\nvar getOwnPropertyNames = Object.getOwnPropertyNames;\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar getPrototypeOf = Object.getPrototypeOf;\nvar objectPrototype = Object.prototype;\n\nfunction hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {\n    if (typeof sourceComponent !== 'string') {\n        // don't hoist over string (html) components\n\n        if (objectPrototype) {\n            var inheritedComponent = getPrototypeOf(sourceComponent);\n            if (inheritedComponent && inheritedComponent !== objectPrototype) {\n                hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);\n            }\n        }\n\n        var keys = getOwnPropertyNames(sourceComponent);\n\n        if (getOwnPropertySymbols) {\n            keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n        }\n\n        var targetStatics = getStatics(targetComponent);\n        var sourceStatics = getStatics(sourceComponent);\n\n        for (var i = 0; i < keys.length; ++i) {\n            var key = keys[i];\n            if (!KNOWN_STATICS[key] && !(blacklist && blacklist[key]) && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {\n                var descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n                try {\n                    // Avoid failures from read-only properties\n                    defineProperty(targetComponent, key, descriptor);\n                } catch (e) {}\n            }\n        }\n\n        return targetComponent;\n    }\n\n    return targetComponent;\n}\n\nmodule.exports = hoistNonReactStatics;\n","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = require(\"react\");\n\nvar _VisibilityObserver = _interopRequireDefault(require(\"./VisibilityObserver\"));\n\nvar defaultOptions = {\n  once: false\n};\n\nfunction useIsVisible(nodeRef) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultOptions,\n      once = _ref.once;\n\n  var _useState = (0, _react.useState)(false),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      isVisible = _useState2[0],\n      setVisible = _useState2[1];\n\n  function handleVisibilityChange(_ref2) {\n    var isIntersecting = _ref2.isIntersecting;\n    setVisible(isIntersecting);\n\n    if (isIntersecting && once) {\n      _VisibilityObserver.default.unwatch(nodeRef.current);\n    }\n  }\n\n  (0, _react.useEffect)(function () {\n    return _VisibilityObserver.default.watch(nodeRef.current, handleVisibilityChange);\n  }, [nodeRef, handleVisibilityChange]);\n  return isVisible;\n}\n\nvar _default = useIsVisible;\nexports.default = _default;","import React, { lazy, useState, useRef, Suspense } from \"react\";\nimport { MAP_META, DATA_URL_ROOT } from \"../constants\";\n// import axios from 'axios';\nimport { fetcher, fetcherJSON, fetcherDICT } from \"../utils/commonFunctions\";\nimport useStickySWR from \"../hooks/useStickySwr\";\nimport { useIsVisible } from \"react-is-visible\";\nimport { Helmet } from \"react-helmet\";\nimport { useGetSetState } from \"react-use\";\n\nconst MapExplorer = lazy(() =>\n  import(\"./mapExplorer\" /* webpackChunkName: \"MapExplorer\" */)\n);\n\nfunction Home(props) {\n  const [mapStatistic, setMapStatistic] = useState(\"active\");\n\n  const [anchor, setAnchor] = useState(null);\n\n  // const [destinationData, setDestinationData] = useState(undefined);\n\n  const [regionHighlighted, setRegionHighlighted] = useState({\n    id: \"NZ\",\n    regionalData: {},\n    districtCode: \"NZ\", // Based on NAME_1\n    cityName: null,\n  });\n\n  \n  // const { data: workData } = useStickySWR(\n  //   DATA_URL_ROOT + \"/work_csv\",\n  //   fetcher,\n  //   {\n  //     revalidateOnMount: true,\n  //     // refreshInterval: 100000,\n  //     revalidateOnFocus: false,\n  //   }\n  // );\n\n  // const { data: educationData } = useStickySWR(\n  //   DATA_URL_ROOT + \"/education_csv\",\n  //   // 'https://api.covid19india.org/v3/min/timeseries.min.json',\n  //   fetcher,\n  //   {\n  //     revalidateOnMount: true,\n  //     // refreshInterval: 100000,\n  //     revalidateOnFocus: false,\n  //   }\n  // );\n\n  const workData = {}, educationData = {}, regionalWorkData = {}, regionalEducationData = {}, regionalTotalData = {};\n  const centroidData = {};\n  // const { data: centroidData } = useStickySWR(\n  //   DATA_URL_ROOT + '/centroidData',\n  //   fetcherDICT,\n  //   {\n  //     revalidateOnMount: true,\n  //     revalidateOnFocus: false\n  //   }\n  // )\n  // console.log(\"centroidData: \",centroidData)\n\n  // Data to load for search\n  const { data: allCentroidDestinations } = useStickySWR(\n    DATA_URL_ROOT + '/allCentroidDestinations',\n    fetcher,\n    {\n      revalidateOnMount: true,\n      revalidateOnFocus: false\n    }\n  )\n\n  // const { data: destinationData } = useStickySWR(\n  //   DATA_URL_ROOT + '/destinations',\n  //   fetcherJSON,\n  //   {\n  //     revalidateOnMount: true,\n  //     revalidateOnFocus: true\n  //   }\n  // )\n  // if(Object.keys(_destinationData || {}).length && !Object.keys(destinationData || {}).length){\n  //   setDestinationData(_destinationData)\n  // }\n  // console.log(\"destinationData: \", destinationData);\n\n  const nzMap = useRef();\n  const isVisible = useIsVisible(nzMap, { once: true });\n\n  // const stateCodes = [\n  //   \"NZ\",\n  //   ...[\n  //     ...new Set([\n  //       ...Object.keys(MAP_META).filter((districtCode) => districtCode !== \"NZ\"),\n  //       ...Object.keys(educationData || {}).filter(\n  //         (districtCode) => districtCode !== \"NZ\"\n  //       ),\n  //     ]),\n  //   ].sort(),\n  // ];\n\n  return (\n    <React.Fragment>\n      <Helmet>\n        <title>NZ Commute | Visualizing Commuter Data - New Zealand Statistics</title>\n        <meta\n          name=\"title\"\n          content=\"Visualization of Commuter Data - New Zealand Statistics\"\n        />\n      </Helmet>\n      <div className=\"Home\">\n        {/* {console.log(regionalEducationData)} */}\n        \n        {/* <LeftPanel /> */}\n        <div className=\"home-right\" ref={nzMap}>\n          {isVisible && (\n            <React.Fragment>\n              {educationData && workData && (\n                <Suspense fallback={<div />}>\n                  <MapExplorer\n                    districtCode=\"NZ\"\n                    {...{ educationData }}\n                    {...{ workData }}\n                    {...{ regionalWorkData }}\n                    {...{ regionalEducationData }}\n                    {...{ regionalTotalData }}\n                    {...{ centroidData }}\n                    {...{ allCentroidDestinations }}\n                    {...{ mapStatistic, setMapStatistic }}\n                    {...{ regionHighlighted, setRegionHighlighted }}\n                    {...{ anchor, setAnchor }}\n                  />\n                </Suspense>\n              )}\n            </React.Fragment>\n          )}\n        </div>\n      </div>\n    </React.Fragment>\n  );\n}\n\nexport default Home;\n\n// // WORK = 50870 rows\n// // EDUCATION = 22430 rows\n// axios.get(DATA_URL_ROOT + '/work_csv')\n//     .then((res) => {\n//         const csv = this.getCSVFromText(res.data);\n//         // console.log('WORK DATA: ', csv);\n//         console.log('WORK DATA: ', csv.length);\n//     });\n\n//     axios.get(DATA_URL_ROOT + '/education_csv')\n//     .then((res) => {\n//         const csv = this.getCSVFromText(res.data);\n//         // console.log('EDUCATION DATA: ', csv);\n//         console.log('EDUCATION DATA: ', csv.length);\n//         console.log(csv[1]);\n//     });\n// }\n","import produce from \"immer\";\nimport { useState } from \"react\";\nimport { useUpdateEffect } from \"react-use\";\nimport useSWR from \"swr\";\n\nexport function useStickySWR(key, fetcher, swrOptions, ...args) {\n  const [options, setOptions] = useState(swrOptions);\n\n  const { data, isValidating, error, ...rest } = useSWR(\n    key,\n    fetcher,\n    options,\n    ...args\n  );\n\n  // if (error) console.log(\"SWR error: \", error);\n\n  useUpdateEffect(() => {\n    setOptions(\n      produce(options, (draftOptions) => {\n        draftOptions.initialData = data;\n      })\n    );\n  }, [data]);\n\n  return {\n    ...rest,\n    isValidating,\n    error,\n    data,\n  };\n}\n\nexport default useStickySWR;\n","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar intersectionObserver;\nvar intersectionObserverOptions = {};\nvar subscribers = new WeakMap();\n\nvar handleIntersections = function handleIntersections(entries) {\n  return entries.forEach(function (entry) {\n    return subscribers.get(entry.target).call(null, entry);\n  });\n};\n\nvar getIntersectionObserver = function getIntersectionObserver() {\n  if (!intersectionObserver) {\n    intersectionObserver = new IntersectionObserver(handleIntersections, intersectionObserverOptions);\n  }\n\n  return intersectionObserver;\n};\n\nvar setIntersectionObserverOptions = function setIntersectionObserverOptions(options) {\n  if (intersectionObserver) {\n    return;\n  }\n\n  intersectionObserverOptions = options;\n};\n\nvar watch = function watch(domNode, callback) {\n  if (!domNode || subscribers.has(domNode)) {\n    return;\n  }\n\n  subscribers.set(domNode, callback);\n  getIntersectionObserver().observe(domNode);\n  return function () {\n    return unwatch(domNode);\n  };\n};\n\nvar unwatch = function unwatch(domNode) {\n  intersectionObserver.unobserve(domNode);\n  subscribers.delete(domNode);\n};\n\nvar getSubscribers = function getSubscribers() {\n  return subscribers;\n};\n\nvar _default = {\n  getSubscribers: getSubscribers,\n  setIntersectionObserverOptions: setIntersectionObserverOptions,\n  unwatch: unwatch,\n  watch: watch\n};\nexports.default = _default;"],"sourceRoot":""}