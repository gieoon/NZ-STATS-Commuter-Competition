{"version":3,"sources":["components/statistics.js","hooks/useStickySwr.js"],"names":["Statistics","props","useEffect","window","scrollTo","regionalWorkData","useStickySWR","DATA_URL_ROOT","fetcherJSON","revalidateOnMount","revalidateOnFocus","data","regionalEducationData","regionalTotalData","console","log","to","key","fetcher","swrOptions","useState","options","setOptions","args","useSWR","isValidating","error","rest","useUpdateEffect","produce","draftOptions","initialData"],"mappings":"8IAAA,mGAQe,SAASA,EAAWC,GAEjCC,qBAAU,WACRC,OAAOC,SAAS,EAAG,KAClB,IAJqC,IAM1BC,EAAqBC,YACjCC,IAAgB,sBAChBC,IACA,CACEC,mBAAmB,EACnBC,mBAAmB,IALfC,KASMC,EAA0BN,YACtCC,IAAgB,2BAChBC,IACA,CACEC,mBAAmB,EACnBC,mBAAmB,IALfC,KASME,EAAsBP,YAClCC,IAAgB,uBAChBC,IACA,CACEC,mBAAmB,EACnBC,mBAAmB,IALfC,KAcR,OALAG,QAAQC,IAAIV,GACZS,QAAQC,IAAIH,GACZE,QAAQC,IAAIF,GAIV,6BACE,kBAAC,IAAD,CAAMG,GAAG,KACP,8CADF,c,4FCfSV,IA5BR,SAAsBW,EAAKC,EAASC,GAAqB,IAAC,IAAD,EAChCC,mBAASD,GADuB,mBACvDE,EADuD,KAC9CC,EAD8C,wBAANC,EAAM,iCAANA,EAAM,wBAGfC,IAAM,WAAN,GAC7CP,EACAC,EACAG,GAH6C,OAI1CE,IAJGZ,EAHsD,EAGtDA,KAAMc,EAHgD,EAGhDA,aAAcC,EAHkC,EAGlCA,MAAUC,EAHwB,+CAoB9D,OARAC,aAAgB,WACdN,EACEO,YAAQR,GAAS,SAACS,GAChBA,EAAaC,YAAcpB,QAG9B,CAACA,IAEG,eACFgB,EADL,CAEEF,eACAC,QACAf","file":"static/js/District.b68892d3.chunk.js","sourcesContent":["import React, { useEffect } from \"react\";\nimport useStickySWR from '../hooks/useStickySwr';\nimport { fetcherJSON } from '../utils/commonFunctions';\nimport {\n  DATA_URL_ROOT\n} from '../constants'\nimport { Link } from 'react-router-dom';\n\nexport default function Statistics(props) {\n  \n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n  \n  const { data: regionalWorkData } = useStickySWR(\n    DATA_URL_ROOT + '/work_regional_data',\n    fetcherJSON,\n    {\n      revalidateOnMount: true,\n      revalidateOnFocus: false,\n    }\n  )\n\n  const { data: regionalEducationData } = useStickySWR(\n    DATA_URL_ROOT + '/education_regional_data',\n    fetcherJSON,\n    {\n      revalidateOnMount: true,\n      revalidateOnFocus: false,\n    }\n  )\n\n  const { data: regionalTotalData } = useStickySWR(\n    DATA_URL_ROOT + '/total_regional_data',\n    fetcherJSON,\n    {\n      revalidateOnMount: true,\n      revalidateOnFocus: false\n    }\n  )\n\n  console.log(regionalWorkData);\n  console.log(regionalEducationData);\n  console.log(regionalTotalData);\n\n\n  return (\n    <div>\n      <Link to=\"/\">\n        <span>New Zealand </span>\n        Commute  \n      </Link>\n    </div>\n  );\n}\n","import produce from \"immer\";\nimport { useState } from \"react\";\nimport { useUpdateEffect } from \"react-use\";\nimport useSWR from \"swr\";\n\nexport function useStickySWR(key, fetcher, swrOptions, ...args) {\n  const [options, setOptions] = useState(swrOptions);\n\n  const { data, isValidating, error, ...rest } = useSWR(\n    key,\n    fetcher,\n    options,\n    ...args\n  );\n\n  // if (error) console.log(\"SWR error: \", error);\n\n  useUpdateEffect(() => {\n    setOptions(\n      produce(options, (draftOptions) => {\n        draftOptions.initialData = data;\n      })\n    );\n  }, [data]);\n\n  return {\n    ...rest,\n    isValidating,\n    error,\n    data,\n  };\n}\n\nexport default useStickySWR;\n"],"sourceRoot":""}