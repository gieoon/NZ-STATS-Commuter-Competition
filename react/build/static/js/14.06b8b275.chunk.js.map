{"version":3,"sources":["assets/search.svg","../node_modules/react-feather/dist/icons/search.js","../node_modules/react-feather/dist/icons/x.js","../node_modules/react-use/esm/useDebounce.js","../node_modules/react-use/esm/useTimeoutFn.js","components/search.js","components/searchbar.js"],"names":["module","exports","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","Search","forwardRef","_ref","ref","_ref$color","color","_ref$size","size","rest","React","createElement","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","cx","cy","r","x1","y1","x2","y2","propTypes","PropTypes","string","oneOfType","number","displayName","X","useDebounce","fn","ms","deps","_a","ready","useRef","timeout","callback","isReady","useCallback","current","set","clearTimeout","setTimeout","clear","useEffect","useTimeoutFn","cancel","reset","locationSuggestions","memo","centroidData","useState","searchValue","setSearchValue","expand","setExpand","results","setResults","searchInput","t","useTranslation","engine","setEngine","then","Bloodhound","default","initialize","local","map","a","DEPARTURE_NAME_2","datumTokenizer","tokenizers","whitespace","queryTokenizer","handleSearch","search","datums","result","index","obj","values","find","o","push","name","produce","draftResults","splice","useTrail","transform","opacity","config","stiff","trail","className","label","style","div","type","value","onFocus","event","onBlur","onChange","id","onClick","to","route","departure_LATITUDE","departure_LONGITUDE","DEPARTURE_NAME_1","cluster_count","Fragment","suggestion","onMouseDown","preventDefault","element","valueSetter","getOwnPropertyDescriptor","getPrototypeOf","prototypeValueSetter","setNativeValue","dispatchEvent","Event","bubbles","SearchBar"],"mappings":"kIAAAA,EAAOC,QAAU,IAA0B,oC,uGCA3C,SAASC,IAA2Q,OAA9PA,EAAWC,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,IAA2BS,MAAMC,KAAMR,WAEhT,SAASS,EAAyBP,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxMgB,CAA8BZ,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,IAAIoB,EAASC,sBAAW,SAAUC,EAAMC,GACtC,IAAIC,EAAaF,EAAKG,MAClBA,OAAuB,IAAfD,EAAwB,eAAiBA,EACjDE,EAAYJ,EAAKK,KACjBA,OAAqB,IAAdD,EAAuB,GAAKA,EACnCE,EAAOjB,EAAyBW,EAAM,CAAC,QAAS,SAEpD,OAAoBO,IAAMC,cAAc,MAAOjC,EAAS,CACtD0B,IAAKA,EACLQ,MAAO,6BACPC,MAAOL,EACPM,OAAQN,EACRO,QAAS,YACTC,KAAM,OACNC,OAAQX,EACRY,YAAa,IACbC,cAAe,QACfC,eAAgB,SACfX,GAAoBC,IAAMC,cAAc,SAAU,CACnDU,GAAI,KACJC,GAAI,KACJC,EAAG,MACYb,IAAMC,cAAc,OAAQ,CAC3Ca,GAAI,KACJC,GAAI,KACJC,GAAI,QACJC,GAAI,eAGR1B,EAAO2B,UAAY,CACjBtB,MAAOuB,IAAUC,OACjBtB,KAAMqB,IAAUE,UAAU,CAACF,IAAUC,OAAQD,IAAUG,UAEzD/B,EAAOgC,YAAc,SACNhC,QC1Cf,SAASvB,IAA2Q,OAA9PA,EAAWC,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,IAA2BS,MAAMC,KAAMR,WAEhT,SAASS,EAAyBP,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxMgB,CAA8BZ,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,IAAIqD,EAAIhC,sBAAW,SAAUC,EAAMC,GACjC,IAAIC,EAAaF,EAAKG,MAClBA,OAAuB,IAAfD,EAAwB,eAAiBA,EACjDE,EAAYJ,EAAKK,KACjBA,OAAqB,IAAdD,EAAuB,GAAKA,EACnCE,EAAOjB,EAAyBW,EAAM,CAAC,QAAS,SAEpD,OAAoBO,IAAMC,cAAc,MAAOjC,EAAS,CACtD0B,IAAKA,EACLQ,MAAO,6BACPC,MAAOL,EACPM,OAAQN,EACRO,QAAS,YACTC,KAAM,OACNC,OAAQX,EACRY,YAAa,IACbC,cAAe,QACfC,eAAgB,SACfX,GAAoBC,IAAMC,cAAc,OAAQ,CACjDa,GAAI,KACJC,GAAI,IACJC,GAAI,IACJC,GAAI,OACWjB,IAAMC,cAAc,OAAQ,CAC3Ca,GAAI,IACJC,GAAI,IACJC,GAAI,KACJC,GAAI,YAGRO,EAAEN,UAAY,CACZtB,MAAOuB,IAAUC,OACjBtB,KAAMqB,IAAUE,UAAU,CAACF,IAAUC,OAAQD,IAAUG,UAEzDE,EAAED,YAAc,IACDC,Q,QCzCA,SAASC,EAAYC,EAAIC,EAAIC,QAC7B,IAAPD,IAAiBA,EAAK,QACb,IAATC,IAAmBA,EAAO,IAC9B,IAAIC,ECHO,SAAsBH,EAAIC,QAC1B,IAAPA,IAAiBA,EAAK,GAC1B,IAAIG,EAAQC,kBAAO,GACfC,EAAUD,mBACVE,EAAWF,iBAAOL,GAClBQ,EAAUC,uBAAY,WAAc,OAAOL,EAAMM,UAAY,IAC7DC,EAAMF,uBAAY,WAClBL,EAAMM,SAAU,EAChBJ,EAAQI,SAAWE,aAAaN,EAAQI,SACxCJ,EAAQI,QAAUG,YAAW,WACzBT,EAAMM,SAAU,EAChBH,EAASG,YACVT,KACJ,CAACA,IACAa,EAAQL,uBAAY,WACpBL,EAAMM,QAAU,KAChBJ,EAAQI,SAAWE,aAAaN,EAAQI,WACzC,IAUH,OARAK,qBAAU,WACNR,EAASG,QAAUV,IACpB,CAACA,IAEJe,qBAAU,WAEN,OADAJ,IACOG,IACR,CAACb,IACG,CAACO,EAASM,EAAOH,GDxBfK,CAAahB,EAAIC,GAAKO,EAAUL,EAAG,GAAIc,EAASd,EAAG,GAAIe,EAAQf,EAAG,GAE3E,OADAY,oBAAUG,EAAOhB,GACV,CAACM,EAASS,G,qCEKfE,G,MAAsB,CACxB,WACA,aACA,eACA,eAyQJ,IAIe7C,MAAM8C,MA1QrB,YAEG,IADDC,EACA,EADAA,aACA,EACwCC,mBAAS,IADjD,mBACSC,EADT,KACsBC,EADtB,OAE8BF,oBAAS,GAFvC,mBAESG,EAFT,KAEiBC,EAFjB,OAGgCJ,mBAAS,IAHzC,mBAGSK,EAHT,KAGkBC,EAHlB,KAIQC,EAAcxB,iBAAO,MACpByB,EAAKC,cAALD,EALT,EAO8BR,mBAAS,MAPvC,mBAOSU,EAPT,KAOiBC,EAPjB,KAYElB,qBAAU,WACN,mCAA2BmB,MAAK,SAAAC,GAE5BF,EAEI,IAAIE,EAAWC,QAAQ,CACnBC,YAAY,EAEZC,MAEAjB,EAAa,IAAIkB,KAAI,SAAAC,GAAC,OAAIA,EAAEC,oBAC5BC,eAAgBP,EAAWQ,WAAWC,WACtCC,eAAgBV,EAAWQ,WAAWC,mBAQrD,IAGD,IAAME,EAAerC,uBAAY,SAACoB,GAC9B,IAAIG,EACA,OAAO,KACX,IAAML,EAAU,GAehBK,EAAOe,OAAOlB,GAbD,SAACmB,GAEVA,EAAOT,KAAI,SAACU,EAAQC,GAEhB,IAAIC,EAAM5G,OAAO6G,OAAO/B,EAAa,KAAKgC,MAAK,SAAAC,GAAC,OAAIA,EAAEb,mBAAqBQ,KAG3E,OADAtB,EAAQ4B,KAAR,aAAcC,KAAMP,GAAWE,IACxB,QAGXvB,EAAW,GAAD,OAAKD,SAIrB,CACEK,IAGJjC,GACE,WACOwB,EACCuB,EAAavB,GAEbK,EACI6B,YAAQ9B,GAAS,SAAC+B,GACdA,EAAaC,OAAO,SAKpC,IACA,CAACpC,IAvEL,MAyFuBqC,YAAS,GAAG,iBAAO,CACpCC,UAAW,0BACXC,QAAS,EACTC,OAAQA,IAAOC,UA5FrB,mBAyFSC,EAzFT,KAiGE,OAFAtD,EA/FF,MA+FM,CAACkD,UAAW,yBAA0BC,QAAS,IAG/C,yBAAKI,UAAU,UACb,kBAAC,IAASC,MAAV,CAAgBC,MAAOH,EAAM,IAC1BnC,EAAE,4BAEL,kBAAC,IAASuC,IAAV,CAAcH,UAAU,OAAOE,MAAOH,EAAM,KAE5C,kBAAC,IAASI,IAAV,CAAcH,UAAU,uBAAuBE,MAAOH,EAAM,IAC1D,2BACEK,KAAK,OACLC,MAAOhD,EACPvD,IAAK6D,EACL2C,QAAS,SAACC,GACR/C,GAAU,IAEZgD,OAAQ,WACNhD,GAAU,IAEZiD,SAAU,SAACF,GACTjD,EAAeiD,EAAMhI,OAAO8H,UAGhC,0BAAMK,GAAG,qBAAqBV,UAAU,uBAExC,yBAAKA,UAAS,iBACZ,kBAAC,EAAD,OAGD3C,EAAY3E,OAAS,GACpB,yBACEsH,UAAS,eACTW,QAAS,WACPrD,EAAe,IACfI,EAAW,MAGb,kBAAC,EAAD,QAKLD,EAAQ/E,OAAS,GAChB,yBAAKsH,UAAU,WACZvC,EAAQY,KAAI,SAACU,EAAQC,GACpB,MAAoB,UAAhBD,EAAOqB,MAAoC,aAAhBrB,EAAOqB,KAElC,kBAAC,IAAD,CAAMxH,IAAKoG,EAAO4B,GAAE,mBAAc7B,EAAO8B,QAAzC,oBAmBA,kBAAC,IAAD,CACEjI,IAAKoG,EAEL4B,GAAI,kBAAoB7B,EAAO+B,mBAAqB,IAAM/B,EAAOgC,oBAEjEf,UAAU,mBAEVW,QAAS,WACPrD,EAAe,IACfI,EAAW,MAGb,yBAAKsC,UAAU,cACb,yBAAKA,UAAU,mBACb,yBAAKA,UAAU,eAAejB,EAAOR,kBACrC,yBAAKyB,UAAU,mBACZjB,EAAOiC,mBAIZ,yBAAKhB,UAAU,mBACb,6BAEGjB,EAAOkC,cAFV,oBAyBf1D,GACC,kBAAC,IAAM2D,SAAP,KACE,yBAAKlB,UAAU,YACb,yBAAKA,UAAU,iBACb,4BAAKpC,EAAE,wBACP,yBAAKoC,UAAU,eACZ/C,EAAoBoB,KAAI,SAAC8C,EAAYnC,GAAb,OACvB,yBAAKgB,UAAU,aAAapH,IAAKoG,GAC/B,kCACA,wBACEoC,YAAa,SAACb,GACZA,EAAMc,iBAjJ9B,SAAwBC,EAASjB,GAC7B,IAAMkB,EAAclJ,OAAOmJ,yBAAyBF,EAAS,SAAS7E,IAChE5D,EAAYR,OAAOoJ,eAAeH,GAClCI,EAAuBrJ,OAAOmJ,yBAChC3I,EACA,SACF4D,IAEC8E,GAAeA,IAAgBG,EAC9BA,EAAqB3I,KAAKuI,EAASjB,GAEnCkB,EAAYxI,KAAKuI,EAASjB,GAuIVsB,CAAehE,EAAYnB,QAAS2E,GACpCxD,EAAYnB,QAAQoF,cAClB,IAAIC,MAAM,QAAS,CAACC,SAAS,OAIhClE,EAAEuD,UAMb,yBAAKnB,UAAU,yBA4Bf,WACZ,OAAO,KCvQI+B,UAff,YAEI,IADA5E,EACD,EADCA,aAEA,OACI,kBAAC,IAAM+D,SAAP,KAMI,kBAAC,EAAD,CAAQ/D,aAAcA","file":"static/js/14.06b8b275.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/search.b2add8ac.svg\";","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar Search = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: \"11\",\n    cy: \"11\",\n    r: \"8\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"21\",\n    y1: \"21\",\n    x2: \"16.65\",\n    y2: \"16.65\"\n  }));\n});\nSearch.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nSearch.displayName = 'Search';\nexport default Search;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar X = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"18\",\n    y1: \"6\",\n    x2: \"6\",\n    y2: \"18\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"6\",\n    y1: \"6\",\n    x2: \"18\",\n    y2: \"18\"\n  }));\n});\nX.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nX.displayName = 'X';\nexport default X;","import { useEffect } from 'react';\nimport useTimeoutFn from './useTimeoutFn';\nexport default function useDebounce(fn, ms, deps) {\n    if (ms === void 0) { ms = 0; }\n    if (deps === void 0) { deps = []; }\n    var _a = useTimeoutFn(fn, ms), isReady = _a[0], cancel = _a[1], reset = _a[2];\n    useEffect(reset, deps);\n    return [isReady, cancel];\n}\n","/* eslint-disable */\nimport { useCallback, useEffect, useRef } from 'react';\nexport default function useTimeoutFn(fn, ms) {\n    if (ms === void 0) { ms = 0; }\n    var ready = useRef(false);\n    var timeout = useRef();\n    var callback = useRef(fn);\n    var isReady = useCallback(function () { return ready.current; }, []);\n    var set = useCallback(function () {\n        ready.current = false;\n        timeout.current && clearTimeout(timeout.current);\n        timeout.current = setTimeout(function () {\n            ready.current = true;\n            callback.current();\n        }, ms);\n    }, [ms]);\n    var clear = useCallback(function () {\n        ready.current = null;\n        timeout.current && clearTimeout(timeout.current);\n    }, []);\n    // update ref when function changes\n    useEffect(function () {\n        callback.current = fn;\n    }, [fn]);\n    // set on mount, clear on unmount\n    useEffect(function () {\n        set();\n        return clear;\n    }, [ms]);\n    return [isReady, clear, set];\n}\n","import React, {useState, useRef, useEffect, useCallback} from 'react';\nimport * as Icon from 'react-feather';\nimport {useTrail, animated, config} from 'react-spring';\nimport {useDebounce, useUpdateEffect} from 'react-use';\nimport produce from 'immer';\nimport {capitalize} from '../utils/commonFunctions';\nimport {useTranslation} from 'react-i18next';\nimport {Link} from 'react-router-dom';\nimport {\n    CITY_NAMES\n} from '../constants';\n\nconst locationSuggestions = [\n    \"Auckland\",\n    \"Wellington\",\n    \"Christchurch\",\n    \"Queenstown\",\n]\n\nfunction Search({\n  centroidData\n}){\n    const [searchValue, setSearchValue] = useState('');\n    const [expand, setExpand] = useState(false);\n    const [results, setResults] = useState([]);\n    const searchInput = useRef(null);\n    const {t} = useTranslation();\n\n    const [engine, setEngine] = useState(null);\n\n    // console.log(\"CITY_NAMES: \", CITY_NAMES);\n    // console.log(\"centroidData[15]: \", centroidData[15]);\n    //useUpdateEffect(()=>{\n    useEffect(()=>{\n        import('corejs-typeahead').then(Bloodhound => {\n            // console.log(Bloodhound);\n            setEngine(\n                // eslint-disable-next-line\n                new Bloodhound.default({\n                    initialize: true,\n                    // Should be using remote\n                    local: \n                    //Object.keys(CITY_NAMES),\n                    centroidData[15].map(a => a.DEPARTURE_NAME_2),\n                    datumTokenizer: Bloodhound.tokenizers.whitespace,\n                    queryTokenizer: Bloodhound.tokenizers.whitespace,\n                    // queryTokenizer: Bloodhound.default.tokenizers.whitespace,\n                    // datumTokenizer: Bloodhound.default.tokenizers.whitespace,\n                    //datumTokenizer: Bloodhound.default.tokenizers.obj.whitespace('name'),\n                })\n            )\n        })\n    }\n    ,[]\n    )\n\n    const handleSearch = useCallback((searchInput)=>{\n        if(!engine)\n            return null;\n        const results = [];\n\n        const sync = (datums) => {\n            // console.log(datums);\n            datums.map((result, index) => {\n                // console.log(\"search result: \", result);\n                var obj = Object.values(centroidData[15]).find(o => o.DEPARTURE_NAME_2 === result);\n                // console.log(obj)\n                results.push({name: result, ...obj});\n                return null;\n            })\n\n            setResults([...results]);\n        }\n\n        engine.search(searchInput, sync);\n    },[\n        engine\n    ]);\n\n    useDebounce(\n      ()=>{\n          if(searchValue) {\n              handleSearch(searchValue);\n          } else {\n              setResults(\n                  produce(results, (draftResults) => {\n                      draftResults.splice(0);\n                  })\n              );\n          }\n      },\n      100,\n      [searchValue]\n    );\n\n    function setNativeValue(element, value){\n        const valueSetter = Object.getOwnPropertyDescriptor(element, 'value').set;\n        const prototype = Object.getPrototypeOf(element);\n        const prototypeValueSetter = Object.getOwnPropertyDescriptor(\n            prototype,\n            'value'\n        ).set;\n\n        if(valueSetter && valueSetter !== prototypeValueSetter){\n            prototypeValueSetter.call(element, value);\n        } else {\n            valueSetter.call(element, value);\n        }\n    }\n\n    const [trail, set] = useTrail(3, () => ({\n        transform: 'translate3d(0, 10px, 0)',\n        opacity: 0,\n        config: config.stiff,\n    }));\n\n    set({transform: 'translate3d(0, 0px, 0)', opacity: 1});\n\n    return (\n        <div className=\"Search\">\n          <animated.label style={trail[0]}>\n            {t('Search a location in NZ')}\n          </animated.label>\n          <animated.div className=\"line\" style={trail[1]}></animated.div>\n    \n          <animated.div className=\"search-input-wrapper\" style={trail[2]}>\n            <input\n              type=\"text\"\n              value={searchValue}\n              ref={searchInput}\n              onFocus={(event) => {\n                setExpand(true);\n              }}\n              onBlur={() => {\n                setExpand(false);\n              }}\n              onChange={(event) => {\n                setSearchValue(event.target.value);\n              }}\n            />\n            <span id=\"search-placeholder\" className=\"search-placeholder\"></span>\n    \n            <div className={`search-button`}>\n              <Icon.Search />\n            </div>\n    \n            {searchValue.length > 0 && (\n              <div\n                className={`close-button`}\n                onClick={() => {\n                  setSearchValue('');\n                  setResults([]);\n                }}\n              >\n                <Icon.X />\n              </div>\n            )}\n          </animated.div>\n    \n          {results.length > 0 && (\n            <div className=\"results\">\n              {results.map((result, index) => {\n                if (result.type === 'state' || result.type === 'district') {\n                  return (\n                    <Link key={index} to={`location/${result.route}`}>\n                        Link to location\n                      {/* <div className=\"result\">\n                        <div className=\"result-left\">\n                          <div className=\"result-name\">\n                            {`${result.name}`}\n                            {result.type === 'district' &&\n                              `, ${STATE_NAMES[result.route]}`}\n                          </div>\n                        </div>\n                        <div className=\"result-type\">\n                          <span>{[result.route]}</span>\n                          <Icon.ArrowRightCircle size={14} />\n                        </div>\n                      </div> */}\n                    </Link>\n                  );\n                } else {\n                  return (\n                    <Link\n                      key={index}\n                      //window.location.href + \n                      to={\"../../location/\" + result.departure_LATITUDE + \"/\" + result.departure_LONGITUDE}\n                      // target=\"_noblank\"\n                      className=\"essential-result\"\n\n                      onClick={()=>{\n                        setSearchValue('');\n                        setResults([]);\n                      }}\n                    >\n                      <div className=\"result-top\">\n                        <div className=\"result-top-left\">\n                          <div className=\"result-name\">{result.DEPARTURE_NAME_2}</div>\n                          <div className=\"result-location\">\n                            {result.DEPARTURE_NAME_1}\n                            {/* Lng: {result.departure_LONGITUDE} */}\n                          </div>\n                        </div>\n                        <div className=\"result-category\">\n                          <div>\n                            {/* {capitalize(locationSuggestions[result.category])} */}\n                            {result.cluster_count} Commutes\n                          </div>\n                          {/* {result.departure_LATITUDE && <Icon.ExternalLink />} */}\n                        </div>\n                      </div>\n                      {/* <div className=\"result-description\">{result.DEPARTURE_NAME_1}</div> */}\n                      {/* <div className=\"result-contacts\">\n                        {result.contact.split('\\n').map((contact) => (\n                          <div key={contact} className=\"result-contact\">\n                            <Icon.Phone />\n                            <a href={`tel:${contact}`}>\n                              {contact.replace(',', '')}\n                            </a>\n                          </div>\n                        ))}\n                      </div> */}\n                    </Link>\n                  );\n                }\n              })}\n            </div>\n          )}\n    \n          {expand && (\n            <React.Fragment>\n              <div className=\"expanded\">\n                <div className=\"expanded-left\">\n                  <h3>{t('Suggested Locations')}</h3>\n                  <div className=\"suggestions\">\n                    {locationSuggestions.map((suggestion, index) => (\n                      <div className=\"suggestion\" key={index}>\n                        <div>-</div>\n                        <h4\n                          onMouseDown={(event) => {\n                            event.preventDefault();\n                            setNativeValue(searchInput.current, suggestion);\n                            searchInput.current.dispatchEvent(\n                              new Event('input', {bubbles: true})\n                            );\n                          }}\n                        >\n                          {t(suggestion)}\n                        </h4>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n                <div className=\"expanded-right\">\n                  {/* <h3>{t('Locations')}</h3>\n                  <div className=\"suggestions\">\n                    {locationSuggestions.map((suggestion, index) => (\n                      <div className=\"suggestion\" key={index}>\n                        <div>-</div>\n                        <h4\n                          onMouseDown={(event) => {\n                            event.preventDefault();\n                            setNativeValue(searchInput.current, suggestion);\n                            searchInput.current.dispatchEvent(\n                              new Event('input', {bubbles: true})\n                            );\n                          }}\n                        >\n                          {t(suggestion)}\n                        </h4>\n                      </div>\n                    ))}\n                  </div> */}\n                </div>\n              </div>\n            </React.Fragment>\n          )}\n        </div>\n    );\n}\n\nconst isEqual = () => {\n    return true;\n};\n\nexport default React.memo(Search, isEqual);\n","import React, {} from 'react';\nimport search from '../assets/search.svg';\nimport Search from './search';\n\nfunction SearchBar({\n    centroidData\n}) {\n    return(\n        <React.Fragment>\n            {/* <div className=\"SearchBar\">\n                <input type=\"text\" />\n                <img src={search} className=\"search-img\" />\n            </div> */}\n\n            <Search centroidData={centroidData} />\n        </React.Fragment>\n    )\n}\n\nexport default SearchBar;\n"],"sourceRoot":""}